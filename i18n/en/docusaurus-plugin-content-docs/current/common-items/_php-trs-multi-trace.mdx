## Multi-server transaction

Calls between application services that are separated for each service can be traced. If a project is registered in WhaTap, it indicates the tracing of calls between application services registered in the project.

1.  To trace the multi-server transaction, set the following options in the agent configuration file. If `mtrace_enabled` is `true`, it traces multi-server transactions at the default rate of 10%.  

    ```ini title='whatap.conf'
    whatap.mtrace_enabled=true 
    ```

2.  홈 화면 > 프로젝트 선택 > **_분석_** > **_히트맵_** 화면에서 멀티 서버 트랜잭션 추적이 적용된 경우 히트맵 트랜잭션을 드래그하세요. <!-- ***M*** --> ![아이콘](/img/ic-s-mult-transation.svg) 아이콘이 나타납니다.

    <!-- m 아이콘 확대 스크린샷 필요 -->

    ![mtrace_M](https://img.whatap.io/media/user_guide_application/dashboard/mtrace_M.png)

    If the multi-server transactions are traced, at the top of the transaction trace information, the value of _MTID_ appears.

    ![mtrace_apm](/img/mtr-java-mtid.png)

    -   The same **MTID** is generated even if the transaction makes an external call.
    -   Even if projects are separated by task, all transactions between applications can be identified through the initially issued **MTID**.

3.  If you click **MTID**, the execution times for each individual transaction service with the same **MTID** can be viewed.

    ![mtrace-mtid](https://img.whatap.io/media/images/Screenshot_2020-12-17_W_JAVA_DEMO_5490_-_Application_Monitoring11.png)

4.  In **_Table View_**, the transaction trace data can be viewed for each tier.

    ![mtrace-apm-tableview](https://img.whatap.io/media/images/Screenshot_2020-12-17_W_JAVA_DEMO_5490_-_Application_Monitoring12.png)

5.  The call relationship between application services that belong to the same project can be checked in the transaction trace.

    -   **Caller**: Transaction that called the service (caller)
    -   **Callee**: Transaction in which the service was called (callee)

    ![mtrace-apm-13](https://img.whatap.io/media/images/Screenshot_2020-12-17_W_JAVA_DEMO_5490_-_Application_Monitoring13.png)

## References

-   [Adding multi-transaction menu](https://www.whatap.io/ko/blog/85/index.html)
-   [Reorganizing multi-transaction diagram](https://www.whatap.io/ko/blog/72/index.html)
