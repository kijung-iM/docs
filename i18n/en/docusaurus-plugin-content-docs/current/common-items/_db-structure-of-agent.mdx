## Agent structure

The following displays the WhaTap agent's structure map. 

<Xclude product='cubrid'>

<ImgLang img='agent-xos-architecture.png' desc='에이전트 구성도' />

</Xclude>

<InDoc product='cubrid'>

<ImgLang img='agent-xos-xcub-architecture.png' desc='에이전트 구성도' />

</InDoc>

-   **Collection server**

    It collects and stores the database performance data collected by agents, extracts statistical data, and efficiently provides them to users. The collection server can be set by region. Different collection server addresses are allocated to each region. The collection server address may differ depending on the selected region. When creating a project, the region is also set.

-   **DBX agent (default agent)**

    Query 기반으로 성능 데이터를 수집하여 서버로 전송합니다. 모니터링 대상 데이터베이스 서버에 에이전트를 직접 설치하지 않아도 별도의 에이전트 서버를 통해서 모니터링이 가능합니다.

<Xclude product='cubrid'>

-   **XOS Agent (additional agent)**

    The additional agent is an optional add-on agent that can monitor the process usage of the database server. To monitor the process usage of the database server, run a separate agent on the database server to collect data. For more information about the process monitoring configuration, see [the following](agent-manage).

    :::note

    The XOS agent can be applied to only the OS environment running on the x86 architecture.

    :::

</Xclude>
<InDoc product='cubrid'>

-   **XOS agent/XCUB agent (additional agent)**

    The additional agent is an optional add-on agent that can monitor the process usage of the database server. To monitor the process usage of the database server, run a separate agent on the database server to collect data. For more information about the process monitoring configuration, see [the following](agent-manage).

    :::note

    The XOS agent can be applied to only the OS environment running on the x86 architecture.

    :::

</InDoc>

-   **Network**

    -   Default agent: The WhaTap monitoring agent uses the external communication (TCP) port 6600 to transfer the collected monitoring data to the WhaTap collection server.

    -   Additional agent: The external communication (UDP) port 3002 is used between the server where the agent has been installed and the database server. If the internal port conflicts, the port can be changed using the `dbx_port` option.
