---
id: warning-notice
title: Server alert
description: It sends alerts through the server event condition settings.
tags:
  - Alert
  - Server
  - UI
---

Home > Select Project > **_Alert_** > **_Event Setting_** 

<!--
> ***서버*** 탭 선택
<span class='vslow'>위험</span>, <span class='slow'>경고</span> 수준으로 나누어 알림을 보낼 수 있습니다.
-->

You can create, modify, and delete event policies such as **_Server_**, **_Process_**, **_Log File_**, and **_Window Event_**. By selecting an event type, you can configure events according to the server restart, agent's communication failure duration, and resource usage.

![Event Setting - Server sc](/img/server-warning.png)

-   ![Leader line 1](/img/number-01.png) **_+ Add Event_**\
      You can add the event.

-   ![Leader line 2](/img/number-02.png) **_Name_**\
      Displays the event name.

-   ![Leader line 3](/img/number-03.png) **_Condition_**\
      Displays the event condition.

-   ![Leader line 4](/img/number-04.png) **_Server_**\
      Displays the server on which the event has been set.    

-   ![Leader line 5](/img/number-05.png) **_Edit_** and **_Copy_**  
    -   By selecting ![Edit icon](/img/ico-edit.svg), you can **_modify_** the saved event settings. 
    -   By selecting ![Copy icon](/img/ico-copy.svg), you can **_copy_** the event to other infrastructure.    

:::note

-   For more information about addition of **_metrics_** events, see [the following](metric-warning-notice).

-   For addition of **_Anomaly Detection_** events, see [the following](set-event-detect-anomal).

-   For addition of **_log_** events, see [the following](set-event-log).

:::

## Adding the alert settings

Select Home > Select Project > **_Alert_** > **_Event Setting_** > **_Server_** tab, and then select **_+ Add alert policy_**.

You can set overall events for a specific server. 

![Event Alert settings - Server sc](/img/server-server-event.png)

1.  If the **_Add Alert settings_** window appears, enter the ![number1](/img/number-01.png) event **_title_**.

2.  Check the ![number2](/img/number-02.png) **_server list_** or select a desired server for monitoring through the search bar. 

3.  In the ![number3](/img/number-03.png) **_Event rule condition_** tab, set the **_condition_**, **_level_**, **_duration_**, and **_Enable_** of the desired **_metric_**.

    -   **_Level_**: You can select a level of <span class='slow'>Warning</span> and <span class='vslow'>Fatal</span>.

    -   **_Duration_**: After the set **_duration_**, the server status is set to <span class='slow'>Warning</span> or <span class='vslow'>Fatal</span>.

    For guide to **_metrics_**, see the following. 

    -   **_Restart_**\
          This event occurs when the server restarts.
    -   **_Not received_**\
          This is a communication failure event that occurs when normal data is not received from the agent for the **_duration_**.
    -   **_Port_**\
          Port access unavailable event. Registered agents in the project check each other's status through **10120 port**. This event occurs when communication fails for the **_duration_**.  
    -   \*\*\*CPU Memory Swap
          Set the usage events such as CPU, memory, and SWAP memory. 
    -   **_Steal_**\
          Set the event for CPU steal time. Only Linux-based OS can be set. 
    -   **_Disk_**\
          Set the events based on the disk usage, I/O usage, and Inode usage. 
    -   **_Network_**\
          Set the network usage-related event. It can be set based on the traffic and packets per second. 

4.  If you finished the event configuration, select ![number4](/img/number-04.png) **_Save_**.

:::caution
One event can be assigned to a server.
:::

<details>
<summary> Default settings of server event </summary>

WhaTap server monitoring service provides the following basic event settings after agent installation. 

![Server Default Alarm sc](/img/server-default-notice-setting.png)

-   **_Restart_**: Enable

-   **_Network IOPS_**
    -   <span class='slow'>Warning</span>: 45,000 pps/duration: 5 minutes
    -   <span class='vslow'>Fatal</span>: 50,000 pps/duration: 5 minutes

-   **_Network BPS_**
    -   <span class='slow'>Warning</span>: 5000,000 bps/duration: 5 minutes
    -   <span class='vslow'>Fatal</span>: 7000,000 bps/duration: 5 minutes

-   **_Disk I/O_**
    -   <span class='slow'>Warning</span>: 90%/duration: 5 minutes
    -   <span class='vslow'>Fatal</span>: 95%/duration: 5 minutes

-   **_Disk Usage_**
    -   <span class='slow'>Warning</span>: 90%/duration: 5 minutes
    -   <span class='vslow'>Fatal</span>: 95%/duration: 5 minutes

-   **_inode_**
    -   <span class='slow'>Warning</span>: 90%/duration: 5 minutes
    -   <span class='vslow'>Fatal</span>: 95%/duration: 5 minutes

-   **_CPU_**
    -   <span class='slow'>Warning</span>: 70%/duration: 1 minute
    -   <span class='vslow'>Fatal</span>: 90%/duration: 1 minutes

-   **_Memory_**
    -   <span class='slow'>Warning</span>: 70%/duration: 1 minute
    -   <span class='vslow'>Fatal</span>: 90%/duration: 1 minutes

-   **_steal_**
    -   <span class='slow'>Warning</span>: 5%/duration: 1 minute
    -   <span class='vslow'>Fatal</span>: 10%/duration: 1 minutes

-   **_Swap_**
    -   <span class='slow'>Warning</span>: 50%/duration: 1 minute
    -   <span class='vslow'>Fatal</span>: 90%/duration: 1 minutes

</details>

## Adding process event{#process-event}

Select Home > Select Project > **_Alert_** > **_Event Setting_** > **_Process_** tab, and then select **_+ Add alert policy_**.

You can set the event policy for a specific process.

![Event Alert settings - Process sc](/img/server-process-event.png)

1.  If the **_Add Alert settings_** window appears, enter the ![number1](/img/number-01.png) event **_title_**.

2.  In the ![number2](/img/number-02.png) **_Event rule condition_** tab, click **_No agent selected_** under the **_server list_** and then select a server from the **_server list_** window. 

    :::note

    When enabling the **_Project Default Policy_** option ![Icon](/img/ic-toggle-on.svg), apply the default alert policy to the project administration server.

    :::

3.  In the **_process_** selection window, select a process or process group. 

    :::note

    For more information about addition of a process group, see [the following](server-detail-process-group.mdx).

    :::

4.  Select a **_process owner_**. 

    -   If no **_process owner_** has been assigned, the settings are applied to all processes with the same name regardless of the owner.
    -   Event conditions work on the owner-process unit basis, even if the **_process owner_** is omitted.

5.  Set the **_level_**, **_duration_**, and **_Enable_** for the desired **_metric_**.

    -   **_Level_**: You can select a level of <span class='slow'>Warning</span> and <span class='vslow'>Fatal</span>.

    -   **_Duration_**: After the threshold's **_duration_**, the server status is set to <span class='slow'>Warning</span> or <span class='vslow'>Fatal</span>.

    For guide to **_metrics_**, see the following. 

    -   **_Process Count_**\
          You can set an event for the number of processes with the same name. Set the number of **_Danger_** and **_Warning_** conditions.
    -   **_Process CPU_**\
          You can set the events depending on the CPU usage.
    -   **_Process Memory_**\
          You can set the events depending on the memory usage.

6.  If you finished the event configuration, select ![number3](/img/number-03.png) **_Save_**.

:::note

-   If you set the process alert **_conditions_** incorrectly, disable it or set the alert **_conditions_** again.
-   If you have incorrectly set the **_process_** and **_process owner_**, disable these alerts to cancel activation, and then set the alert **_conditions_** again.

:::

## Adding the log files and Windows events

Select Home > Select Project > **_Alert_** > **_Event Setting_** > **_Log File/Window Event_** tab, and then select **_+ Add alert policy_**.

You can manage specific log files and Windows event settings.

### Log File{#log-file-event}

To add a **_log file_** event, set the **_event rules_** seeing the following. 

![Add alert policy - Log File sc](/img/server-log-file.png)

1.  If the **_Add Alert settings_** window appears, enter the ![number1](/img/number-01.png) event **_title_**.

2.  Check the ![number2](/img/number-02.png) **_server list_** or select a desired server for monitoring through the search bar. 

    :::note

    When enabling the **_Project Default Policy_** option ![Icon](/img/ic-toggle-on.svg), apply the default alert policy to the project administration server.

    :::

3.  ![number 3](/img/number-03.png) In the **_Event rule condition_** tab, select **_Log File_** in **_Log Type_**.

4.  See the example and then enter the **_file path_** following a regular expression rule. 

    > e.g. _/var/log/mylogfile_%Y-%m-%d_%H:%M:%S.log_

5.  Enter the **_search keyword_** to trigger events. Multiple items can be specified.

6.  Enter the **_exclusion keywords_** to be excluded from alerts. Multiple items can be specified.

7.  Enter the **_repetitions_** and **_duration_** for alerts how many seconds and how many times when detecting the specified **_keyword_**. 

8.  Select an event **_severity_**. You can set the level of <span class='vslow'>Fatal</span> or <span class='slow'>Warning</span>.

9.  Select ![number4](/img/number-04.png) **_Save_**.

### Window Event{#windows-event}

To add an **_Windows event_**, set the **_event rule conditions_** seeing the following. It is available only in the Windows environment.

![Add alert policy - Event Log sc](/img/server-window-event.png)

1.  If the **_Add Alert settings_** window appears, enter the ![number1](/img/number-01.png) event **_title_**.

2.  Check the ![number2](/img/number-02.png) **_server list_** or select a desired server for monitoring through the search bar. 

    :::note

    When enabling the **_Project Default Policy_** option ![Icon](/img/ic-toggle-on.svg), apply the default alert policy to the project administration server.

    :::

3.  ![number 3](/img/number-03.png) In the **_Event rule condition_** tab, select **_Window Event_** in **_Log Type_**.

4.  Noting the following example, select a **_log name_**.<br/>
    ![Log Name](https://img.whatap.io/media/user_guide_server/noti/1530.png)

5.  Noting the following example, set the values for **_Level_**, **_Event Source_**, **_Event ID_**, and **_Keyword_**. For the **_search keyword_**, multiple items can be specified.<br/>
    ![Level Event Source, etc.](https://img.whatap.io/media/user_guide_server/noti/1540.png)

6.  Enter the **_exclusion keywords_** to be excluded from alerts. Multiple items can be specified.

7.  Select an event **_severity_**. You can set the level of <span class='vslow'>Fatal</span> or <span class='slow'>Warning</span>.

8.  Select ![number4](/img/number-04.png) **_Save_**.

#### Log File Throughput

The file log throughput is set as follows based on the log lines. This is to prevent excessive CPU use of the WhaTap server monitoring agent when too many logs occur. Excessive amount is not processed.

-   Version 1.3.6 or earlier: Exceeding 60 lines per 2 seconds are processed. 
-   Version 1.3.7 or later: Exceeding 1000 lines per 2 seconds are processed. 

You can adjust the excess per 2 seconds with the following option.

-   **Linux**  
    > `log.skip.threshold=number of lines that can be processed per 2 seconds` in the _/usr/whatap/infra/conf/whatap.conf_ file
-   **Windows**  
    > `log.skip.threshold=number of lines that can be processed per 2 seconds` in the _C:\\Program Files\\WhatapInfra\\whatap.conf_ file

## Event modification

1.  On the right of the event list, select ![Edit icon](/img/ico-edit.svg)**_Edit_**. 

2.  In the **_Event rule condition_** tab, modify the **_condition_**, **_level_**, **_duration_**, and **_Enable_** of the desired **_metric_**.

3.  After modification, select **_Save_**.

:::note

-   If there is any modification for a specific metric, all active alerts for the metric are <span class='vslow'>disabled</span>.
-   After modification, a new alert is triggered when any data for the set conditions is received.
-   If any process alert data of **_title_**, **_process_**, and **_process owner_** has been modified, all alerts for the condition are <span class='vslow'>disabled</span>.

:::

## Deleting event

1.  On the right of the event list, select ![Edit icon](/img/ico-edit.svg)**_Edit_**. 

2.  On the upper right of the modification screen, select ![Delete icon](/img/ic-delete-critical.svg)**_Delete_**.

<!-- 로그 파일 처리량 삭제 예정 -->

<!-- 디폴트 알람 설정값 안내 추가 예정 -->

<!--

파일 경로와 키워드를 입력하세요. 

파일 로그 처리량 아래 다음 문장 의미 모호함
2초당 초과량의 조절은 다음 옵션으로 조절할 수 있습니다.

* ***파일 경로***  
    감시할 파일의 경로입니다.
* ***키워드***  
    해당 파일의 로그에서 해당 키워드가 발생하면 이벤트를 발생시킵니다.
* ***위험도***  
    이벤트가 발생하였을 때 위험도를 지정합니다.

-->

<!-- 

* **로그명**<br/>
    ![로그명](https://img.whatap.io/media/user_guide_server/noti/1530.png)
* **수준**, **이벤트 소스**, **이벤트 ID**, **키워드**<br/>
    ![수준 이벤트 소스 등](https://img.whatap.io/media/user_guide_server/noti/1540.png)
* **위험도**<br/>
    이벤트가 발생했을 때 해당 이벤트의 위험도를 지정할 수 있습니다.


:::note

특정 로그가 발생할 때 서버 상에서 자동 실행되는 스크립트를 지정할 수 있습니다.  
![이벤트 추가 - 로그 파일 - 자동 스크립트](https://img.whatap.io/media/user_guide_server/alert/alert_autoscript.png)

:::

대상 파일이 모든 서버에 존재할 경우 ***프로젝트 기본 정책*** 옵션 토글을 ![아이콘](/img/ic-toggle-on.svg) 활성화하세요. 프로젝트가 관리하는 서버에 기본 알림 정책을 자동으로 적용합니다.

-->

<!-- 

해당 알림을 비활성화 하거나 알림 조건을 재설정 후 알림 해소 조건에 맞는 데이터가 들어오면 잘못 발생한 진행 중 알림을 해소시킬 수 있습니다. 

프로세스 이벤트

![이벤트 추가 - 프로세스](https://img.whatap.io/media/images/process_event_setting_editor.png)

    * ***Enable as Project-Wide***  
        해당 프로젝트에 있는 모든 서버들에 해당 이벤트를 적용합니다.
    * ***Count***  
        해당 프로세스의 개수 증감에 대하여 이벤트를 설정할 수 있습니다. 좌측의 경우 최저치, 우측의 경우 최대치 알림입니다. 프로세스가 슬라이더 좌측보다 적거나 많다면 이벤트가 발생합니다.
    * ***CPU***  
        CPU 사용량에 따라 이벤트를 설정할 수 있습니다.
    * ***Memory***  
        메모리 사용량에 따라 이벤트를 설정할 수 있습니다.
    * ***이벤트 적용***  
        해당 프로세스에 대한 이벤트를 단일 서버가 아닌 다중 서버에 대한 정책으로 설정할 수 있습니다.
    * ***임곗값 지속 시간***     
        해당 설정된 임곗값의 지속시간 이후 서버 상태가 <span class='slow'>Warning</span>, <span class='vslow'>Fatal</span>로 변경됩니다.

서버 이벤트

![이벤트 추가 - 서버](https://img.whatap.io/media/images/server_event_setting_editor.png)

    * ***지속 시간***  
        설정한 ***지속 시간*** 이후 서버의 상태가 <span class='slow'>경고</span>, <span class='vslow'>위험</span> 수준으로 변경됩니다.


로그 싱크 제외

로그 싱크 이벤트 

로그명과 수준을 선택하고, 알림 소스, 알림 ID, 키워드를 입력하세요.

![로그 싱크 이벤트](https://img.whatap.io/media/images/logsink_event_setting_editor.png)

입력창에 다음 예시에서 해당하는 값을 선택해 추가하세요.


-->

<!-- 

로그 파일 및 윈도우 이벤트 아래 기존 안내

![이벤트 추가 - 로그 파일](https://img.whatap.io/media/images/logfile_event_setting_editor.png)

1. 해당 정책의 이름을 지정하세요.
1. 새로운 규칙을 생성하세요.
1. 지정된 규칙을 삭제하세요.
1. 삭제하거나 적용될 규칙을 선택하세요.
1. 적용될 서버를 선택하세요.
1. 특정 로그가 발생할 때 서버상에서 자동 실행되는 스크립트를 지정할 수 있습니다.  
    ![이벤트 추가 - 로그 파일 - 자동 스크립트](https://img.whatap.io/media/user_guide_server/alert/alert_autoscript.png)


-->

<!-- 

## 프로세스 그룹 이벤트{#process-group-event}

:::note
프로세스 그룹 추가 방법에 대한 자세한 내용은 [다음 문서](server-detail-process-group.mdx)를 참조하세요.
:::

프로세스 그룹의 자원 사용량 합계치가 특정 기준을 넘으면 이벤트를 받도록 지정할 수 있습니다. 프로세스 그룹을 추가하고 다음 절차를 따라 진행하세요.

### 프로세스 그룹 이벤트 추가{#process-group-event-add}

1. ***경고 알림*** > ***이벤트 설정***에서 ***+ 이벤트 추가***를 선택하세요.
1. 제목을 입력하세요.
1. 이벤트 타입을 ***프로세스***로 선택하세요.
1. ***선택된 에이전트가 없습니다*** 버튼을 선택하면 서버 목록을 조회할 수 있습니다. 
1. 해당 이벤트를 이용할 서버를 선택한 후 ***적용*** 버튼을 누르세요.
:::caution
선택한 서버가 다른 이벤트 정책을 따르고 있는 경우 현재 설정으로 이벤트 정책이 변경됩니다.
:::
1. 프로세스 목록에서 등록한 프로세스 그룹을 선택하세요.
1. 프로세스 소유자를 선택 후 ***저장*** 버튼을 선택하세요.  
    * 생략하면 소유자와 관계없이 같은 이름의 모든 프로세스에 설정이 적용됩니다.  
    * 이벤트 조건은 소유자를 생략한 경우라도 소유자-프로세스 단위로 동작합니다.

이 과정을 마치면 다음과 같이 프로세스 밑에 새로 생성한 프로세스 그룹 이벤트를 확인할 수 있습니다. 

![프로세스 그룹 이벤트](https://img.whatap.io/media/images/process_group_alarm_result.jpg)

:::note
프로세스 그룹 이벤트는 프로세스 그룹명이 아닌 이벤트 제목으로 뜹니다. 
:::


-->
