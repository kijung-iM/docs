---
id: agent-httpcapi
title: HTTPC, API Call
description: PHPエージェントのHTTPC、API Callの設定を提供します。
tags:
  - PHP
  - HTTPC
  - API Call
  - 設定
  - アプリケーション
---

-   **whatap.profile_httpc_resource_enabled** <span class='type'>Boolean</span>

    デフォルト値`false`

    トレースからHTTP Call ステップが収集される際に、そのステップで使用したCPUとメモリ使用量を追跡します。

-   **whatap.trace_httpc_normalize_enabled** <span class='type'>Boolean</span>

    デフォルト値 `true`

    トランザクション内のHTTPC URLを構文解析して正規化する機能を活性化します。

-   **whatap.trace_httpc_normalize_urls** <span class='type'>String</span>

    正規化するHTTPC URLパターンを定義します。呼び出しURLパターンを構文解析して、パスパラメータを削除します。

    :::note

    例）**/a/{v}/b**と宣言すると、**a/123/b** → **a/{v}/b**に置き換えます。複数登録するときは、コンマ（,）を区切り文字として使用します。 置換パターンの整理後、補完が必要です。

    :::

-   **whatap.profile_curl_return_enabled** <span class='type'>Boolean</span>

    デフォルト値 `true`

    値が`true`の場合、curlライブラリ関数の結果が'false'のときにエラーと表記する機能を活性化します。

-   **whatap.profile_curl_error_info_enabled** <span class='type'>Boolean</span>

    デフォルト値 `true`

    値が`true`の場合、curlライブラリ関数の結果値が`false`のときにエラーメッセージ情報を収集する機能を活性化します。`whatap.profile_curl_return_enabled`の設定が`false`の場合は適用されません。

    -   cURLライブラリのエラータイプは、`HttpConnectionReturnFalse`の後にエラー番号が追加された形式です。
    -   呼び出しURLのhttp結果コードが400以上の場合のエラータイプを追加しました。`HttpConnectionServerError(結果コード)`の例は次のとおりです。`HttpConnectionReturnFalse(6)`、`HttpConnectionServerError(500)`

-   **whatap.profile_curl_error_ignore_empty** <span class='type'>Boolean</span>

    デフォルト値 `true`

    値が`false`の場合、エラーコードまたはエラーメッセージの内容がない場合、正常結果として表記します。 `whatap.profile_curl_return_enabled`の設定が`false`の場合は適用されません。 
