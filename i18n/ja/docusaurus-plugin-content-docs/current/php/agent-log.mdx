---
id: agent-log
title: エージェントログの設定
description: PHPエージェントログの場所とオプションを設定できます。
tags:
  - PHP
  - エージェントログ
  - 設定
  - アプリケーション
---

アプリケーションサーバーの稼働中は、モニタリング情報を収集します。収集された情報はログファイルに保存されます。 

## ログの設定

-   **whatap.log_keep_days** <span class='type'>Day</span>

    デフォルト値`7`

    ログファイルの保存期間を設定します。

## ログシンク(LogSink) の設定

ログデータを収集します。

### 基本設定

-   **whatap.logsink_enabled** <span class='type'>Boolean</span>

    デフォルト値`false`

    値が`true`の場合、ログデータを収集します。

-   **whatap.logsink_zip_enabled** <span class='type'>Boolean</span>

    デフォルト値`false`

    値が`true`の場合、ログデータを圧縮して送信します。デフォルト値は、GZIPです。

-   **whatap.watchlog_enabled** <span class='type'>Boolean</span>

    デフォルト値`false`

    値が`true`の場合、ログファイルを指定して、ログデータを収集します。

### ログファイル設定

-   **whatap.watchlog.[ログファイル固有ID指定].enabled** <span class='type'>Boolean</span>

    値が`true`の場合、ログファイルの固有IDを任意に指定し、そのIDでログデータを収集します。

-   **whatap.watchlog.[ログファイル固有ID指定].file** <span class='type'>String</span>

    ログファイルの固有IDを任意に指定し、ファイルパスとファイル名を設定します。

### 例

-   **基本設定**

    ```ini title='whatap.conf'
    whatap.logsink_enabled=true
    whatap.logsink_zip_enabled=true
    whatap.watchlog_enabled=true
    ```

-   **Apache error logおよびaccess log設定**

    ```ini title='whatap.conf'
    whatap.watchlog.apache_error_log.enabled=true
    whatap.watchlog.apache_error_log.file=/etc/httpd/logs/error_log

    whatap.watchlog.apache_access_log.enabled=true
    whatap.watchlog.apache_access_log.file=/etc/httpd/logs/access_log
    ```
