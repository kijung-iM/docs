---
id: agent-dbsql
title: DB, SQL
description: Node.jsエージェントのDB、SQL関連オプションを提供します。
tags:
  - Node.js
  - DB
  - SQL
---

Node.jsエージェントのDB、SQL関連オプションを提供します。

-   **profile_connection_open_enabled** <span class='type'>Boolean</span><br/>
    デフォルト値`true`<br/>
    トレース履歴にDBConnectionオープン情報を記録します。

-   **profile_error_sql_time_max** <span class='type'>Int</span><br/>
    デフォルト値`30000`<br/>
    SQLの実行時間が設定した値を超えると、TOO SLOWエラーとして処理されます。`0`に設定する場合、エラー処理は行いません。

-   **trace_sql_normalize_enabled** <span class='type'>Boolean</span><br/>
    デフォルト値`true`<br/>
    SQL文からリテラル部分を抽出してSQL文を正規化する機能を活性化します。

-   **hook_connection_open_patterns** <span class='type'>String</span><br/>
      DB Connection Open時に呼び出すメソッドを登録します。事前に設定していないConnection PoolのgetConnectionを登録するのが一般的です。

    ```ini title='예시'
    hook_connection_open_patterns=mypool.ConPool.getConnection
    ```
