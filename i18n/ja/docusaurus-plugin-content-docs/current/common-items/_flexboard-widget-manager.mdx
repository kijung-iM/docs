Flexボードに配置したウィジェットを管理して、ダッシュボードをユーザーがカスタマイズします。

## ウィジェット追加

作成済みのFlexボードにウィジェットを追加できます。

1.  **_Flexボード_**メニューの**_ボード_**一覧からウィジェットを追加するダッシュボードを選択します。

2.  画面左上の**_修正モード_**を選択します。

3.  左側の**_ウィジェットテンプレート_**一覧から目的のウィジェットを選択します。メトリクスウィジェットを追加するには、**_すべてのメトリクス_**を選択してから、目的のウィジェットをクリックします。

    -   ホーム画面の**_Flexボードメニュー_**に入力する場合、ウィジェットを追加した場合は**_+プロジェクト選択_**ボタンをクリックして、収集対象プロジェクトを選択してください。
    -   追加するウィジェットがある場合は、同じプロセスを繰り返してください。

すべてのプロセスが完了したら、画面上部の**_ビューモード_**を選択してレイアウトを確認し、[一覧へアイコン](/img/ico-exit.svg)(**_一覧へ_**)ボタンをクリックします。

## ウィジェットの属性変更

**_Flexボード_**メニューの**_ボード_**一覧からウィジェットの属性を変更するボードを選択します。**_修正モード_**にアクセスします。

### ウィジェット名の変更

名前を変更するウィジェットの名前の右側の![編集アイコン](/img/ico-edit.svg)ボタンをクリックしてください。ウィジェットの**_タイトル_**、**_フォントサイズ_**、**_色_**を設定し、**_保存_**ボタンを選択します。

:::tip

-   保存時、**_すべてのウィジェットに適用_**トグルボタンの機能をアクティブにすると、フォントサイズと色が他のウィジェットにも適用されます。

-   ウィジェットのタイトルをロックするには![設定アイコン](/img/ico-invisible.svg)ボタンを選択し、**_保存_**ボタンをクリックします。

:::

### 時間設定

時間を設定するウィジェットの右上の![時間設定アイコン](/img/ico-time-set.svg)ボタンを選択します。**_時間選択_**ウィンドウが表示します。

-   ダッシュボード画面で設定した時間を適用する場合は、**_ダッシュボードの設定に従う_**をチェックしてください。ダッシュボードの時間設定は右上にあります。

-   ユーザーが希望する時間設定を適用する場合は、**_ダッシュボード設定に従う_**のチェックを外します。![左矢印アイコン](/img/left-arrow.svg)または![右矢印アイコン](/img/right-arrow.svg)ボタンを使用して希望する時間を設定します。

時間設定が終了したら![終了アイコン](/img/ico-close.svg)ボタンをクリックします。

:::note

ウィジェットのデータタイプによっては、時間設定機能をサポートしていない場合があります。

:::

### 出力データオプションの設定

チャート型ウィジェットの出力データオプションを設定して、ユーザーが必要なデータを選択することができます。ウィジェットの右上にある![もっと見るアイコン](/img/ico-more.svg)ボタンをクリックしてください。

-   プロジェクト、エージェント、アプリケーションなどを選択してデータをフィルタリングできます。

-   個々のデータまたはマージされたデータを選択して、チャートに表示されるグラフのタイプを変更できます。

-   ![その他のアイコン](/img/ico-more.svg)>![設定アイコン](/img/ico-setting.svg)を選択してください。**_チャート設定_**ウィンドウで詳細オプションを変更することができます。設定できるオプションは次のとおりです。

    -   **_チャートタイプ_**：集計する現在の数値をチャートに表示するオプションです。

    -   **_y軸チャートの最大値_**：y軸にチャート最大値を**_自動_**または**_固定_**で選択できます。

    -   **_水平線設定_**：**_追加_**ボタンをクリックして、しきい値または範囲を水平線として表示することができます。複数追加して適用できます。水平線を追加した後は、**_適用_**ボタンをクリックするとチャートに反映されます。

    -   **_チャートの最大値の表示_**：チャートに表示されるグラフの最大値を表示します。

    -   **_サブチャート_**：ウィジェットのメインチャートにサブチャートを追加設定することができます。サブチャートの種類を選択し、レイアウト、サイズ、データをマージするかどうかを選択します。共通の他のウィジェットに適用する場合は、**_すべてのウィジェットに適用_**ボタンをクリックします。サブチャートは、データをさまざまな方法で表示する場合に便利です。

    オプション設定をすべて完了後、**_チャート設定_**ウィンドウ左上の![閉じるアイコン](/img/ico-close.svg)ボタンをクリックするか、**_チャート設定_**ウィンドウ領域の外側をクリックします。

:::note

ウィジェットのデータタイプによって選択できるオプションは異なる場合があります。

:::

### メトリクスウィジェットデータの変更{#changedata-metric-widget}

メトリックウィジェットのデータ検索条件を変更できます。 

1.  **_Flexボード_** > **_修正モード_**で変更するウィジェットの右上の![もっと見るアイコン](/img/ico-more.svg)ボタンをクリックします。

    ![メトリクスウィジェットデータの変更](/img/metric-widget-data.png)

2.  ![編集アイコン](/img/ico-edit-metric.svg)ボタンをクリックします。データ設定の編集ウィンドウが表示されます。

    ![メトリクスウィジェットデータの編集](/img/metric-edit-window.png)

3.  次を参照して設定を変更するには、[適用アイコン](/img/left-arrow.svg)**_ウィジェットに適用_**ボタンをクリックします。

    -   ウィジェットを作成すると、デフォルトで生成されるメトリックオプションがタブに表示されます。

    -   メトリックスオプションには、**_カテゴリ_**と**_フィールド_**、**_タグ_**が含まれます。

    -   **_カテゴリ_**項目は現在、変更を加える機能を制限しています。

    -   **_フィールド_**、**_タグ_**項目は複数選択することができます。選択したタグオプションでチャートデータをグループ化します。

    -   ![検索アイコン](/img/ico-btn-search.png)ボタンをクリックすると、元のデータを表示できます。

    -   **_オブジェクト結合_**および**_時間の結合_**項目の詳細については、[データ結合オプション](#datamerge-option)を参照してください。  

### データ結合オプション{#datamerge-option}

Flexボードの**_すべてのマトリックス_**一覧に配置されたマトリックスウィジェットにデータ結合オプションがあります。

1.  **_編集モード_**で**_すべてのメトリック_**ボタンを選択し、**_ウィジェットテンプレート_**一覧を**_すべてのマトリックス_**一覧に変更します。

2.  メトリックウィジェットをレイアウトに配置します。

3.  メトリックスウィジェットは右上にある![その他のアイコン](/img/ico-more.svg)ボタンをクリックします。

4.  タグ(例：エージェント名) オプションを選択すると、データ結合オプションが表示されます。ウィジェットのサイズによっては、メトリックスオプションの位置が異なる場合があります。

![メトリックスウィジェット-データマージオプション](/img/flexboard-datamerge.png)

データの結合は、**_オブジェクト結合_**と**_時間結合_**方法が用意されています。

-   **_オブジェクト結合_**

    左側で選択したタグ(例：エージェント名)に基づいてチャートデータをグループ化するために使用します。この場合、異なるフィールド(例：CPU)値を持つデータ間でタグが一致する場合、そのデータは結合されます。

-   **_時間結合_**

    主に検索時間が長い場合に使用します。ソースデータとフィールド値が同じデータを時間範囲に基づいて一定の時間間隔(5分または1時間)でデータを結合します。この結合方法は、時間結合と呼ばれます。

-   **AWS CloudWatchメトリクス**

    AWSモニタリング指標の場合、統計手法はフィールド名の後にsuffix(形式) として追加されます。データマージのデフォルト値は、このsuffixを参照しています。

    ![AWS ColudWatchメトリクス](/img/blog_12.png)

## ウィジェットのコピー

1.  ウィジェットの右上にある![その他のアイコン](/img/ico-more.svg)ボタンをクリックします。 
2.  ![コピーアイコン](/img/ico-copy.svg)ボタンをクリックします。
3.  **_コピー_**ウィンドウが表示されると**_+ ウィジェット追加_**を選択します。
4.  一覧にあるウィジェットの名前を変更します。
5.  **_適用_**ボタンを選択します。

**_修正モード_**画面でコピーしたウィジェットで確認できます。

## ウィジェットの削除

1.  ウィジェットの右上にある![その他のアイコン](/img/ico-more.svg)ボタンをクリックします。 
2.  ![削除アイコン](/img/ico-remove.svg)ボタンをクリックします。
3.  確認メッセージウィンドウが表示されると、**_削除_**ボタンを選択します。削除を取り消すには**_キャンセル_**ボタンをクリックします。
