WhaTapモニタリングサービスでは、モニタリング対象を包括的な意味でオブジェクトという名称を使用し、エージェントと混用して使用することもあります。モニタリング対象、つまりオブジェクトを区別するには、名前を区別する必要があります。WhaTapは、オブジェクト名とオブジェクトIDを介して対象を区別します。

:::note

-   オブジェクト（エージェント）名は、プロジェクトごとに唯一である必要があります。
-   オブジェクトID＝CRC32（オブジェクト名）です。オブジェクトIDまたは名前が変更されると、以前のデータとリンクされません。

:::

WhaTapはモニタリング情報収集対象であるデータベースサーバー識別のための情報で、基本的にデータベースサーバーから収集した情報を活用します。基本的な使用情報は、データベースサーバーの種類、IPアドレス、サービスポートなどを組み合わせてデータベースサーバーを固有識別子として使用します。必要に応じてユーザーが設定した名称を利用するか、パターンを変更して固有の値に変更して利用します。エージェントの名前は必ず固有の値である必要があります。

データベースサーバーから抽出した情報を活用する理由は、データベースサーバーの停止またはネットワークの断絶、エージェント問題による収集サーバーとエージェントの通信途絶状態が復旧した場合、再接続されたエージェントから送信される情報が既存エージェントから送信された情報との連続性を維持するためです。

デーバーテイスサーバーの識別に使用する基本パターンは次のとおりです。

-   **object_name** <span class='type'>String</span>

    デフォルト値`{type}`-`{ip2}`-`{ip3}`-`{port}`

    データベースサーバーを識別するエージェント名(ONAME)システムです。ONAMEに基づいてOIDが生成されます。

    | 設定         | 説明                                                                      |
    | ---------- | ----------------------------------------------------------------------- |
    | {type}     | `whatap.app_name`に設定された値を使用します。                                         |
    | {ip0}      | IPv4アドレスのうち、1番目の単位を使用します。(例：**10**.11.12.13のうち**10**)                   |
    | {ip1}      | IPv4アドレスのうち、2番目の単位を使用します。(例：10.**11**.12.13のうち**11**)                   |
    | {ip2}      | IPv4アドレスのうち、3番目の単位を使用します。(例：10.11.**12**.13のうち**12**)                   |
    | {ip3}      | IPv4アドレスのうち、4番目の単位を使用します。(例：10.11.12.**13**のうち**13**)                   |
    | {port}     | データベースサーバのポート                                                           |
    | {hostname} | ホスト名                                                                    |

-   **auto_oname_enabled** <span class='type'>Boolean</span>

    デフォルト値`false`

    サーバーに登録するエージェント名（oname）をサーバーから自動付与される機能をアクティブにします。適用時、`-Dwhatap.name`、`-Dwhatap.oname`オプションは無視します。収集サーバーとの通信により、`oname`を付与された後、エージェントの一般的な動作を開始します。

-   **auto_oname_prefix** <span class='type'>String</span>

    デフォルト値`agent`

    エージェント名をサーバーから自動付与するとき、エージェント名のprefixや業務名を使用します。prefixにシリアル番号1~)を付与します。

-   **auto_oname_reset** <span class='type'>Int</span>

    デフォルト値`0`

    サーバーから新しいエージェント名を付与するために修正します。エージェント名を自動付与すると、`whatap.oname`というシステム環境変数に設定されます。一度定められたシステムの環境変数は、JAVAインスタンスが再起動するまで維持します。リセットしたいときは、`auto_oname_reset`値を修正してください。現在の設定値と異なる値に変更すると適用されます。
