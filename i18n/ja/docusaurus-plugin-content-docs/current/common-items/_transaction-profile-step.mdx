トランザクション性能とは、トランザクションの開始と終了までの要約指標や属性を意味します。一方、トランザクショントレースは、トランザクションが実行されているステップのトレースです。トランザクションが遅い場合やエラーが発生した場合は、その原因を追跡するために実行履歴をステップごとに追跡する必要があります。これを**トランザクショントレーシング**と呼ばれます。

WhaTapが収集するステップの種類は、大きく分けてSQLステップ、HTTP CALLステップ、メッセージステップ、SOCKETオープンステップ、DB接続ステップ、メソッドステップなどがあります。 

:::note
WhaTapのステップ(Step)は、スパン(Span)と同じ意味で使用します。
:::

* * *

-   **DB接続ステップ**<span class='type'>START-END</span><br/>
      RDBへの接続に対する性能が含まれます。ステップ情報には、名前、レスポンス時間、エラーが含まれます。

-   **SQLステップ**<span class='type'>START-END</span><br/>
      JDBC SQLに対する性能が含まれます。ステップ情報には、接続情報、SQL文、エラーが含まれています。

-   **HTTP Callステップ**<span class='type'>START-END</span><br/>
      外部httpサービス呼び出しに対する性能が含まれます。ステップ情報には、url、host、port、レスポンス時間、エラーが含まれています。

-   **Messageステップ**<span class='type'>ADD</span><br/>
      トレースを収集する過程で非定型的なすべてのセグメントの履歴を収集する場合、メッセージステップを使用します。  

-   **SOCKETステップ**<span class='type'>ADD</span><br/>
      Socketオープンを表現するステップです。

-   **METHODステップ**<span class='type'>START-END</span><br/>
      メソッドのレスポンス時間を追跡します。

-   **ACTIVE STACKステップ**<span class='type'>START-END</span><br/>
      アクティブステップに関する情報が含まれます。 別のスレッドで生成し、トレースに追加して収集します。

* * *
