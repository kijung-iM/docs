---
id: telegraf-plugin-settings
title: 設定
description: Telegrafのconfigファイルを通じて設定する方法を案内します。
tags:
  - Telegraf
  - 設定
---

Telegrafのconfigファイル（_telegraf.conf_）に次の _outputs.whatap_ 設定を活性化してください。

whatap pluginを含むconfigファイルは、次のように生成できます。

```bash title=SH
# telegraf --sample-config > telegraf.conf
```

### whatapプロジェクト情報

[ホーム画面](https://service.whatap.io/)でプロジェクトを選択し、プロジェクトの情報を設定してください。 接続するプロジェクトのエージェントインストール案内で確認できます。

-   **プロジェクトアクセスキー**：プロジェクトを識別するプロジェクトアクセスキーです。

-   **プロジェクトコード**：プロジェクトを識別する数値型コードです。

-   **収集サーバー情報**（IP、ポート番号）：収集情報を渡すWhaTap収集サーバーのIPとポート番号です。

### config設定（toml）

```toml title='/etc/telegraf/telegraf.conf'
# # Configuration for WhaTap
[[outputs.whatap]]
#   ## You can create a project on the WhaTap site(https://www.whatap.io)
#   ## to get license, project code and server IP information.
#
#   ## WhaTap license. Required
license = "x2tggtnopk2t9-xxxxxxxxxx-aaaaaaaaaa"
#
#   ## WhaTap project code. Required
pcode = 118
#
#   ## WhaTap server IP. Required
#   # Put multiple IPs with / as delimiters. e.g. "1.1.1.1/2.2.2.2"

servers = ["tcp://1.2.3.4:6600", "tcp://5.6.7.8:6600"]

#   ## Connection timeout.
#   # timeout = "60s"
```

-   `[[outputs.whatap]]` コメント（#）を削除してください。

-   `license`のコメント（#）を削除してください。 プロジェクトのプロジェクトアクセスキー情報を入力してください。 文字型です。

-   `pcode`のコメント（#）を削除してください。 プロジェクトコードを入力してください。 数字型です。

-   `servers`のコメント（#）を削除してください。 収集サーバー情報（IP、ポート番号）を設定してください。 プロトコルはtcpに対応してします。 文字型で"tcp://IP:ポート"を登録してください。 配列型で登録してください。 コンマ（,）で区切って配列型で登録してください。

:::caution

Telegrafを再起動して変更された設定を適用してください。

:::
