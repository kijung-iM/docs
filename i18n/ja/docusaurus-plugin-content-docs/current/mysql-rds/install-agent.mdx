---
id: install-agent
title: エージェントのインストール
description: WhaTapデータベースモニタリングサービスを使用するための基本的なインストール方法について説明します。
tags:
  - MySQL RDS
  - データベースモニタリング
  - エージェント
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import TR from '@site/src/components/TR';

MySQL RDSは、DBのみ接続できる場合、個別のインストールプロセスを必要としません。[会員登録](https://www.whatap.io/ko/signup/)後、プロジェクトを作成し、画面の指示に従って進めます。会員登録に関する詳細については、[次の文書](account/account-manage)を参照してください。

次の動画ガイドを参照してください。

{@video: https://whatap-landing-resource.s3.ap-northeast-2.amazonaws.com/prd/log/db_guide_setting.mp4}

{@include: ../getting-started/_create-project-v2.mdx}  

{@include: ../getting-started/_accesskey.mdx}

## モニタリング用アカウントの作成{#uid}

データベースモニタリングをするために必要な権限を持つアカウントを作成します。root(admin) アカウントでログインしてアカウントを作成してください。

:::note

既に存在するアカウントを使用する場合は、[DB情報入力](#create-db-user)に進んでください。アクセス権限がない場合は、モニタリングを開始できません。

:::

```bash showLineNumbers
create user whatap identified by 'DB_PASSWORD'; ## passwordを入力してください。
grant process on *.* to whatap;
grant select on performance_schema.* to whatap;
grant show databases on *.* to whatap;
 
## テーブル情報を収集する場合
## table listを読み込むdb名.*または*.*を指定すると、table情報が収集されます。
grant select on DB名.*または*.* to whatap;
 
## replication使用時
grant replication client on *.* to whatap;
grant replication slave on *.* to whatap;
 
## kill session使用時
grant super on *.* to whatap;
```

## DB情報入力

![DB情報入力](/img/mysql-rds-db-info.png)

1.  モニタリング対象DBに接続するために必要な情報を入力します。<span class='vslow'>\*</span>は必須入力項目です。

    -   **_インスタンス名_**：DBを識別する名前を入力します。プロジェクト内で固有の名前である必要があり、英数の小文字、数字およびタグ(-)のみを入力できます。

    -   **_DB IP_**：DBサーバーのIPアドレスを入力します。

    -   **_DB Port_**：WhaTap収集サーバーに接続するポート番号を入力します。

    -   **_DB User ID_**：以前に作成したモニタリングのアカウントを入力します。

    -   **_DB Password_**：以前に作成したモニタリングのアカウントのパスワードを入力します。

2.  すべての項目に入力し、**_接続_**ボタンを選択します。

3.  WhaTap収集サーバー(DBCTL)で接続を試みます。このプロセスでは、内部でエージェントを作成した後、入力したアドレスとアカウント情報でアクセスを試みるため、時間がかかる場合があります。

DB接続に成功すると、エージェントの作成が完了したというメッセージが表示されます。

-   プロジェクトにモニタリング対象のDBを追加するには、**_DB接続追加_**ボタンを選択します。**3. DB情報入力**の追加手順で進みます。

    :::note

    **_DB接続の追加_**ボタンが表示されない場合は、**_管理_** > **_エージェントインストール_**メニューに移動し、**DB情報入力**に進みます。

    :::

-   登録済みのDB情報を確認するには、**_インスタンス一覧_**または**_インスタンスモニタリング_**ボタンを選択します。

-   エージェントの設定内容を確認または変更するには、**_エージェント設定_**ボタンを選択します。

-   エージェントの接続に失敗した場合は、[次の文書](troubleshooting)を参照してください。
