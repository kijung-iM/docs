---
id: advanced-feature
title: 拡張機能
description: Pythonエージェントの高度な機能をご案内します。
tags:
  - Python
  - 拡張機能
---

## サーバー名の任意付与と管理{#custom-naming}

エージェントは、アプリケーション サーバーの種類とアプリケーション サーバーのIP、サービス ポートを使用して、自動的にサーバー名を付与します。

### アプリケーション名指定オプション

デフォルトパターンの変更は_whatap.conf_で設定できます。

```bash
object_name default: {type}-{ip2}-{ip3}-{process}
```

### アプリケーション名のパターン

プロジェクトに登録されているアプリケーションサーバーごとに同じ名前を使用してはいけません。サーバー名を固定して使用しないでください。Internal ip addressによってサーバーIPが重複する場合は、アプリケーションサーバー名をグループ単位でパターン化して適用できます。

**パターンオプション**

| 設定       | 説明                      |
| -------- | ----------------------- |
| type     | app_name                |
| ip#      | Ipを「.」で分けたとき、#番目の桁（0から） |
| process  | app_process_name        |
| hostname | ホスト名                    |

## AES256暗号化適用

WhaTapアプリケーションモニタリングエージェントは、収集されたデータを暗号化してサーバーに転送します。データの重要度や設定により、これを変更できます。  

基本的にXOR演算とAESアルゴリズムによる暗号化を使用します。 平文を128ビット単位に分けて暗号化・復号化を行います。ユーザーの設定によって256ビットまで拡張できます。

1.  **設定する**\
    エージェントがインストールされたディレクトリの_whatap.conf_ファイルに次の設定を追加してください。

    ```ini title='cypher_level=256 설정 추가하기'
    license={アクセスキー}
    whatap.server.host={収集サーバーIP}
    cypher_level=256
    ```

2.  **再起動する**\
    設定を追加した後、WASを再起動します。

## 制約事項

### 複数リージョンを単一プロジェクトとして選択不可

[WhaTapモニタリングサービス](https://service.whatap.io)で **_プロジェクト作成_**時、地域（Region）は重複選択ができません。複数の地域を活用する場合は、別途のプロジェクトを作成する必要があります。

クラウド環境のように複数のリージョンにサーバが存在する場合、ネットワークlatencyなどの性能情報収集上の制約を回避するために、リージョン単位で収集サーバを配置する必要があります。WhaTapは、顧客のニーズに応えるために地域ごとに収集サーバーを構築します。

### エージェント名(ONAME) は重複使用できません

WhaTapアプリケーションモニタリングは、エージェントの識別のための用途でエージェントのIPアドレスとポート情報を活用します。もしユーザー環境のモニタリング対象アプリケーションサーバーが同一IP、同一Portを使用する場合、WhaTapサーバーで該当サーバーインスタンスを区分できなくなります。

サーバーインスタンスが動的に拡張される環境でなければ [次の文書](#custom-naming)を参考にして、アプリケーション識別のための名称を直接指定する方式で迂回することができます。

モニタリング対象アプリケーションがinternal addressまたはネットワーク仮想化により重複したIPを使用する場合は、[次の文書](#custom-naming)を参考にして別途のアプリケーション名パターンを活用します。
