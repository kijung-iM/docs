---
id: agent-db-sql
title: DB, SQL
description: PythonエージェントDBとSQL設定を提供します。
tags:
  - Python
  - DB
  - SQL
  - 設定
---

PythonエージェントのDB、SQL関連オプションを提供します。

-   **profile_dbc_close(\*)**<span class='type'>Boolean</span><br/>
      デフォルト値`false`<br/>
      `profile_connection_open_enabled`が活性化されている場合、トレースにDB Connectionがcloseされるときの情報を出力します。

-   **trace_sql_normalize_enabled**<span class='type'>Boolean</span><br/>
      デフォルト値`true`<br/>
      SQL文のリテラール部分を抽出してSQL文を正規化する機能を活性化します。

-   **profile_sql_param_enabled**<span class='type'>Boolean</span><br/>
      デフォルト値`false`<br/>
      SQLパラメータの収集を活性化します。ただ、パラメータは別途のセキュリティキーを入力して照会できます。セキュリティキーは、エージェントインストールパスの_paramkey.txt_ファイルに6桁で指定します。 _paramkey.txt_が存在しない場合は自動生成され、randomキーが設定されます。

-   **profile_sql_resource_enabled**<span class='type'>Boolean</span><br/>
      デフォルト値`false`<br/>
      トレースでSQLが収集される時、そのステップで使用したCPUとメモリの使用量を追跡します。トランザクションでリソースの使用量を確認する際に、区間に分けて追跡が容易です。

-   **stat_sql_max_count**<span class='type'>Int</span><br/>
      デフォルト値`5000`<br/>
      SQL統計情報の個数を制限します。5分間収集され、サーバーに送信される統計情報で最大レコード数を制限します。  
